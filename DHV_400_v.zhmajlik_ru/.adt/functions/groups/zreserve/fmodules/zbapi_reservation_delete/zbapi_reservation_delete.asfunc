FUNCTION ZBAPI_RESERVATION_DELETE
  IMPORTING
    VALUE(RESERVATION) TYPE BAPI2093_RES_KEY-RESERV_NO
  TABLES
    RETURN LIKE BAPIRET2.



  CALL FUNCTION 'BAPI_RESERVATION_DELETE'
    EXPORTING
      reservation = reservation
    TABLES
      return      = return.
  READ TABLE return WITH KEY type = 'E'.
  IF sy-subrc <> 0.
    CALL FUNCTION 'BAPI_TRANSACTION_COMMIT'.
  ELSE.
    CALL FUNCTION 'BAPI_TRANSACTION_ROLLBACK'.
  ENDIF.




ENDFUNCTION.